# **연금술사 오토 배틀러 (Alchemist Auto-Battler) \- 게임 기획서**

**문서 버전:** v1.3.3

**최종 수정일:** 2025.02.19

## **1\. 게임 개요 (Overview)**

* **핵심 콘셉트:** 플레이어(골렘)가 4x4 마방진(빙고 그리드)에 무작위로 채워지는 4가지 원소 카드의 조합(빙고)을 활용하여 자동으로 적 몬스터를 물리치는 오토 배틀러 게임.  
* **장르:** 로그라이크 덱 빌딩, 오토 배틀러, 퍼즐  
* **타겟 플랫폼:** 모바일 및 웹 브라우저

### **1.1. 게임 주소 (Game Links)**

* **GitHub:** https://github.com/Calchemy-io/Calchemy.io
* **Live Demo:** https://calchemy.io

### **1.2. 데이터 주도형 게임 아키텍처 (Data-Driven Game Architecture)**

데이터 주도형 게임 아키텍처를 구현하기 위한 문서들을 참고할 수 있습니다.   
* (개발 완료) game_data_driven_Pipeline.md
   - 데이터 주도형 게임 아키텍처를 구현하기 위한 문서입니다.
* (개발 중) data_driven_Pipeline_GRID.md
   - 데이터 주도형 게임 중 그리드 기반 효과를 구현하기 위한 문서입니다.

## **2\. 게임 메카닉 (Game Mechanics)**

### **2.1. 원소 (Elements)**

게임의 기본이 되는 4가지 속성입니다.

* **🔥 FIRE (불):** 공격 중심. 적에게 직접 피해를 주거나 화상 상태를 부여.  
* **🌱 EARTH (흙):** 방어 중심. 방어도를 쌓거나 구조물을 생성.  
* **💧 WATER (물):** 회복 및 유틸리티. 체력을 회복하거나 마나/행동력을 보조.  
* **🍃 WIND (바람):** 버프/디버프 및 속도. 공격 속도 증가, 회피, 적 약화.

### **2.2. 전투 흐름 (Turn Logic)**

게임은 TURN\_DURATION (기본 5초) 마다 자동으로 턴이 진행됩니다. (일시정지 가능)

1. **턴 시작 (Turn Start):**  
   * 턴 카운트 증가.  
   * 일시적 스탯 초기화 (방어도, 이번 턴 피해량 등).  
2. **적 의도 확인 (Enemy Intent):**  
   * 적(잡몹)이 이번 턴에 할 행동(공격/방어/버프)을 예고.  
   * *방어 의도 시, 즉시 방어도 획득.*  
3. **카드 배치 (Draw & Deploy):**  
   * 덱에서 16장의 카드를 뽑아 4x4 그리드를 채움.  
4. **카드 발동 (Activate):**  
   * 좌상단부터 우하단까지 16개 카드가 순차적으로 발동 (약 150ms 간격).  
5. **빙고 판정 (Bingo Check):**  
   * 가로, 세로, 대각선 라인을 검사.  
   * **원소 빙고:** 한 줄이 모두 같은 원소일 때 해당 원소 특수 효과 발동.  
   * **조화 빙고:** 한 줄에 4가지 원소가 모두 포함될 때 강력한 전체 효과 발동.  
6. **적 행동 실행 (Enemy Action):**  
   * 예고된 의도대로 공격 또는 버프 실행.  
7. **종료 체크 (End Check):**  
   * 골렘 또는 적 전멸 시 게임 종료(승리/패배).

### **2.3. 빙고 효과 (Bingo Effects)**

* **🔥 불 빙고:** 무작위 적에게 강력한 추가 피해.  
* **🌱 흙 빙고:** 골렘에게 대량의 방어도 부여.  
* **💧 물 빙고:** 골렘 체력 회복.  
* **🍃 바람 빙고:** 골렘의 공격력 영구 버프.  
* **🌈 조화 빙고:** 적 전체 피해 \+ 골렘 회복/방어 복합 효과.

## **3\. 캐릭터 및 데이터 (Characters & Data)**

### **3.1. 골렘 (Player)**

* **HP:** 300 (기본)  
* **Base Attack:** 2  
* **Base Shield:** 2  
* **특수 스탯:**  
  * Sword Bonus: 물리 공격 보너스  
  * Shield Bonus: 방어 효율 보너스

### **3.2. 적 (Minions)**

* **HP:** 100 (기본)  
* **Base Attack:** 8  
* **Base Defense:** 8  
* **행동 패턴:** 공격(Attack), 방어(Defend), 버프(Buff) 중 무작위 선택.

### **3.3. 카드 데이터 구조**

*데이터 주도형 설계를 위해 별도 CSV/JSON 파일로 관리됨.*

* **ID:** 고유 식별자  
* **Type:** 원소 속성  
* **Single Effect:** 낱개 발동 시 효과 (예: 피해 5\)  
* **Bingo Effect:** 해당 카드가 포함된 빙고 달성 시 추가 효과

## **4\. UI/UX 구성**

### **4.1. 메인 전투 화면 (Battle Screen)**

* **좌측 (Player):** 골렘 이미지, HP/방어 게이지, 현재 적용된 버프 상태.  
* **중앙 (Field):**  
  * **상단:** 턴 카운터, 메시지 로그, **활성화된 유물 아이콘 리스트**.  
  * **중앙:** 4x4 카드 그리드 (빙고판).  
  * **하단:** 제어 버튼 (시작, 일시정지, 재시작).  
* **우측 (Enemy):** 적 유닛(최대 3마리), 각각의 HP/의도(Intent) 아이콘 표시.

### **4.2. 보조 메뉴**

* **로그 (Log):** 전투 중 발생한 피해, 힐, 효과 텍스트 기록.  
* **덱 구성 (Deck):** 현재 보유한 카드 목록 확인 및 라이브러리에서 카드 추가/제거 (테스트용).  
* **유물 (Relics):** 획득한 유물 확인 및 ON/OFF 토글.

## **5\. 콘텐츠 데이터 및 파이프라인 (Content Data & Pipeline)**

본 게임의 모든 확장 콘텐츠(카드, 유물, 키워드, 포션 등)는 별도의 기획 과정을 통해 **CSV 파일로 관리**되며, **자동화된 데이터 파이프라인**을 통해 게임에 반영됩니다. 이는 개발자의 코드 수정 없이 기획자가 엑셀(Excel) 등의 도구로 밸런싱과 콘텐츠 추가를 수행할 수 있도록 합니다.

### **5.1. 데이터 파이프라인 아키텍처**

1. **기획 및 데이터 작성 (Excel/CSV):** 기획자가 정의된 스키마에 맞춰 데이터를 작성합니다.  
2. **데이터 로딩 (CSV Loader):** 게임 실행 시 public/data/ 경로의 CSV 파일들을 자동으로 로드합니다.  
3. **파싱 및 변환 (Parser & JSON):** 로드된 텍스트 데이터는 내부 로직에서 사용할 수 있는 JSON 객체(Action/Params)로 변환됩니다.  
4. **로직 매핑 (Registry):** 파싱된 액션 ID(예: ATTACK\_BURN)는 EffectRegistry에 등록된 실제 JavaScript 함수와 연결되어 실행됩니다.

### **5.2. 콘텐츠별 데이터 명세**

#### **A. 카드 (Cards)**

일반 효과와 빙고 시너지를 동시에 가지는 핵심 아이템입니다.

* **파일:** cards.csv  
* **주요 데이터:**  
  * **기본 정보:** ID, 이름, 등급, 원소 타입(Type)  
  * **단일 효과 (S\_Logic):** 낱개 발동 시의 로직 (JSON 형식). 예: { "action": "ATTACK", "params": { "dmg": 5 } }  
  * **빙고 효과 (B\_Logic):** 빙고 달성 시 추가되는 로직 (JSON 형식). 예: { "action": "BOOST\_DMG", "condition": "BURN" }

#### **B. 유물 (Relics)**

게임의 규칙을 바꾸거나 지속적인 패시브 효과를 제공합니다.

* **파일:** relics.csv  
* **주요 데이터:**  
  * **Trigger:** 효과가 발동되는 시점 (예: ON\_BINGO, ON\_TURN\_START, ON\_ATTACK)  
  * **Effect Script:** 발동 시 실행될 로직 ID 및 파라미터.  
  * **예시:** "T-스핀 유물" (T자 모양 빙고 인정), "화염의 정수" (불 빙고 시 추가 피해).

#### **C. 키워드 및 상태이상 (Keywords)**

텍스트 내에 등장하는 특수 용어에 대한 정의입니다.

* **파일:** keywords.csv  
* **주요 데이터:**  
  * **ID:** 키워드 식별자 (예: BURN, STUN)  
  * **Tooltip:** UI에 표시될 설명 텍스트.  
  * **Logic Hooks:** 턴 시작/종료 시 자동으로 발동될 효과 (예: 화상은 턴 시작 시 피해).

#### **D. 포션 및 소비 아이템 (Potions)**

전투 중 1회성으로 사용하여 즉각적인 효과를 주는 아이템입니다.

* **파일:** items.csv  
* **주요 데이터:**  
  * **Target:** 사용 대상 (아군, 적, 전체).  
  * **Action:** 즉시 실행될 효과 (예: 카드 속성 변경, 카드 위치 변경 \-\> 추가 빙고 유도).

## **6\. 개발자 도구 (Dev Tools)**

* **스탯 에디터:** 일시정지 상태에서 모든 유닛의 HP, 공격력 등을 실시간으로 수정 가능해야 함.  
* **에셋 토글:** 이모지 모드(가벼운 버전)와 이미지 모드(그래픽 버전)를 실시간 전환.

# 📖 문서 (Documentation)

이 프로젝트는 **데이터 주도형 설계(Data-Driven Design)**를 따르며, 기획과 개발 문서를 분리하여 관리합니다.

## 📜 게임 기획서 (README.md)

게임의 규칙, 원소 시스템, 빙고 로직, UI/UX 설계, 캐릭터 및 유물 데이터 명세가 포함되어 있습니다.

### 맵 생성 시스템 (MapGeneator_해설.md)

맵 생성 시스템에 대한 구현 설명 문서입니다.

## 🛠 개발 현황 및 히스토리 (Dev_Status_ & _History.md)

기술 스택, 구현 완료된 기능, To-Do 리스트(로드맵), 버전별 변경 내역, 배포 가이드를 확인하실 수 있습니다.

### 게임 데이터 주도형 설계 파이프라인(game_data_driven_Pipeline.md)

게임 데이터 주도형 설계(Data-Driven Design)를 위한 파이프라인 구현 문서입니다.

## 🤖 AI 개발 프롬프트 (GEMINI.md)

AI 어시스턴트를 활용한 개발 규칙 및 페르소나 설정 파일입니다.